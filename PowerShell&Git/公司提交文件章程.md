## 1 开发原则与规定

1. 单一职责
    
    每个组件只负责一项职责。提高代码的可读性和可维护性
    
2. 代码可复用性
    
    可复用的UI组件放置在baseui文件夹
    
    可复用的业务组件放置在components文件夹
    
    可复用的枚举、接口定义放置在declare文件夹
    
3. 团队协作
    
    编写代码时添加注释，规定参见《同恩软件技术标准》注释
    
    （http://teamerp.tncet.com/library/archi-system/software-standard/abcc7697-21e1-413f-9448-36108bbf888c）
    
    命名规范，规定参见《同恩软件技术标准》命名
    
    （http://teamerp.tncet.com/library/archi-system/software-standard/abcc7697-21e1-413f-9448-36108bbf888c）
    

## 2 原则以外以目标导向

1. 容易修改和维护
    
2. 可读性高
    
3. 保持清晰且有组织的结构，以便轻松查找和管理文件
    

## 3 代码项目

|项目|仓库链接|开发分支|
|---|---|---|
|teamerp2-data|https://gitlab.tncet.com/project/teamerp/teamerp2-data|dev|
|teamerp2-web|https://gitlab.tncet.com/project/teamerp/teamerp2-web|dev|

## 4 开发环境

前端：React+TypeScript+Ant Design

后端：Spring Boot+Spring Data JPA

数据库：MySQL，Mongodb，Redis

运行环境：Windows，Java，Node.js，NPM

开发工具：Visual Studio Code

## 5 启动项目

### 5.1 后端

1. 设置开发账号，将src\main\resources\sql\user.sql中的注释取消

![](http://minio.tncet.com:9000/tnlibpub/356dca7571c0063674cebd1c753d9114.png)
4. 安装依赖，命令行执行

```plaintext
mvn clean install
```

5. 启动项目，命令行执行

```plaintext
mvn spring-boot:run
```

### 5.2 前端

1. 安装依赖，命令行执行

```plaintext
npm install --force
```

2. 启动项目，命令行执行

```plaintext
npm start
```

## 6 架构

![](http://minio.tncet.com:9000/tnlibpub/31ede7e8bbb6776c97b4ceaf34b3d894.png)

### 6.1 文件结构

参见代码项目的README.md文件

### 6.2 开发顺序

先开发前端页面，确认功能逻辑正确后再进行后端的开发

## 7 代码提交规范

1. 开发阶段维护dev分支

2. 新的开发任务基于dev分支创建新分支，分支命名 dev-开发任务英文单词简写，例如：dev-multi-delete-task

3. 提交代码时，按规则编写本次提交的标题：

    **提交类型**+空格+**（相关模块，可选）**+空格+“**-**”+空格+**内容说明**，例如：feature - 批量删除任务

    其中【提交类型】包括：

|   |   |
|---|---|
|【feature】|新功能、模块、方法的添加|
|【docs】|说明文档的添加、修改|
|【build】|外部依赖库、第三方模块的引入|
|【fix】|Bug修复，内容统一为“修复 xxx问题”|
|【perf】|性能优化、代码结构优化|
|【style】|命名、代码风格变更，不改变任何代码逻辑|
|【test】|测试相关代码的修改、提交|

相关模块：可具体到文件，也可填写指定模块名称。若涉及文件众多，也可省略该部分；

内容说明：应简单扼要说明相关变更，方便查找。涉及多个改动时，原则上应拆分成多次提交。难以拆分的，应使用“&”连接多个内容。

4. 项目成员不应在他人分支上提交代码，应采用分支合并的形式同步代码

5. 本地分支中完成开发工作后，再次拉取并合并dev分支，push至远程仓库，并在线上发起merge request请求

6. 代码提交合并请求前，应删除临时性的代码，如控制台打印、临时代码注释等

## 8 接口编写规范

1. 增删改查时，“增”单个对象返回Long值；“改”和“删”返回布尔值。

2. URL应符合REST格式。

   更新（Update）和删除（Delete）操作传路径参数。

   路径应以资源为中心，使用标准 HTTP 方法（GET、POST、PUT、DELETE）表示动作，而不是把动作写进 URL**。**

   路径使用小写 + 连字符 `-`

3. 当数据表结构发生变化时（新增字段、修改字段类型、删除字段、增加索引等），除了更新创建表的主 SQL 文件，也要将更新内容添加到alter.sql文件中，方便团队其他人同步数据库结构。

## 9 交互规范

1. 条目列表中，双击条目编辑名称，esc取消编辑，单击打开详情

## 10 前端编码规范

1. interface名称与后端model对象名称一致

### 10.1 样式

1. 每个组件都有自己的样式文件

2. 禁止将样式直接写在页面根节点或全局作用域，所有样式需以组件粒度封装，保持局部作用域，防止样式污染。