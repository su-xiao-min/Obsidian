#### 面试题 1：关于“状态机设计”

**面试官提问：**
 你在简历中提到使用 Redis 来实现图片资源的状态管理，能否详细讲一下当 OCR 失败时，系统是如何处理这个状态的？
 如果 OCR 一直失败，是否会导致用户上传的图片卡住？



**回答**：

我们采取的是异步调用的机制，换言之，当我们发送请求之后，我们会立刻得到一个我们部署的DeepSeek-OCR的任务ID，但是为了减少性能负担，我们还传递了一个url回调的接口，主动状态下我们会等待这个这个接口被调用。在这段时间，我们的Redis当中会记录image_id,还有任务的status为prepare当OCR失败的时候，我们的
