MySQL在建表的时候，经常能够看到一些字符集的处理，虽然，每一次我都感觉，有一点不理解。

```mysql
CREATE TABLE users (
                       id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '用户唯一标识',
                       username VARCHAR(255) NOT NULL UNIQUE COMMENT '用户名，唯一',
                       password VARCHAR(255) NOT NULL COMMENT '加密后的密码',
                       role ENUM('USER', 'ADMIN') NOT NULL DEFAULT 'USER' COMMENT '用户角色',
                       org_tags VARCHAR(255) DEFAULT NULL COMMENT '用户所属组织标签，多个用逗号分隔',
                       primary_org VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL COMMENT '用户主组织标签',
                       created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                       updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
                       INDEX idx_username (username) COMMENT '用户名索引'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户表';
```

我感觉渲染得不太好，不过能有高亮就很不错了。，

![image-20251207175458310](C:\Tymage\image-20251207175458310.png)

理清楚字符集和字符编码

```mysql
show character set 
```

之后就会返回相当多可以使用的数据集。

在 MySQL5.7 中，默认字符集是 `latin1` ；在 MySQL8.0 中，默认字符集是 `utf8mb4`，所以，结论是，差不多不需要自己手动设置字符集，不过有一些时候为了和旧的系统兼容，还是会做。

### [字符集的层次级别](https://javaguide.cn/database/character-set.html#字符集的层次级别)

从上到下

MySQL 中的字符集有以下的层次级别：

- `server`（MySQL 实例级别）
- `database`（库级别）
- `table`（表级别）
- `column`（字段级别）

![image-20251207180319265](C:\Tymage\image-20251207180319265.png)

另外还有连接字符集

![image-20251207180506610](C:\Tymage\image-20251207180506610.png)

- `character_set_client` ：描述了客户端发送给服务器的 SQL 语句使用的是什么字符集。
- `character_set_connection` ：描述了服务器接收到 SQL 语句时使用什么字符集进行翻译。
- `character_set_results` ：描述了服务器返回给客户端的结果使用的是什么字符集。

------

著作权归JavaGuide(javaguide.cn)所有 基于MIT协议 原文链接：https://javaguide.cn/database/character-set.html

这也就是我五月的时候折腾一下午的成果，诶，当时为什么不来图书馆折腾呢？不能理解，图书馆是多么美好的地方。

统一使用utf8mb4最省心。

![img](C:\Tymage\image-20211008164542347.png)

原来是这样，原来真的有utf8mb3。

http://cenalulu.github.io/linux/character-encoding/

让我们看一下这一篇文档。

> 本文将简述字符集，字符编码的概念。以及在遭遇乱码时的一些常用诊断技巧

> 背景：字符集和编码无疑是IT菜鸟甚至是各种大神的头痛问题。当遇到纷繁复杂的字符集，各种火星文和乱码时，问题的定位往往变得非常困难。本文就将会从原理方面对字符集和编码做个简单的科普介绍，同时也会介绍一些通用的乱码故障定位的方法以方便读者以后能够更从容的定位相关问题。在正式介绍之前，先做个小申明：如果你希望非常精确的理解各个名词的解释，那么可以查阅wikipedia。本文是博主通过自己理解消化后并转化成易懂浅显的表述后的介绍。

是的，我也应该尽可能自己去消化内容，得到自己的产出。